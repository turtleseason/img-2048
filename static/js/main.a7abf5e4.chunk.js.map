{"version":3,"sources":["game/constants.ts","types/tile.ts","types/direction.ts","assets/images.ts","assets/tile2.png","assets/tile4.png","assets/tile8.png","assets/tile16.png","assets/tile32.png","assets/tile64.png","assets/tile128.png","assets/tile256.png","assets/tile512.png","assets/tile1024.png","assets/tile2048.png","game/GameLogic.ts","util.ts","game/GameTile.tsx","game/GameBoard.tsx","hooks/useMountEffect.ts","assets/logo.png","common/ConfirmationDialog.tsx","game/GameContainer.tsx","components/ImageDialog.tsx","components/SettingsDrawer.tsx","components/TopBar.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["MAX_TILE_SIZE","MAX_BOARD_SIZE","PUZZLE_SIZE","p","TILE_SIZE","Tile","id","value","this","Directions","images","tile2","tile4","tile8","tile16","tile32","tile64","tile128","tile256","tile512","tile1024","tile2048","arrowKeys","indexFromCoords","col","row","rowFromIndex","index","Math","floor","colFromIndex","getNextValue","undefined","random","getOpenPosition","tiles","tileCount","reduce","total","current","openSpacesCount","max","selectedSpace","i","indexOf","rotateLeft","rotations","Error","result","Array","newCol","newRow","r","temp","moveLeft","moved","highestMerge","tile","column","nextTile","neighbors","push","customValues","2","4","8","16","32","64","128","256","512","1024","2048","useStyles","makeStyles","position","width","height","maxWidth","maxHeight","borderRadius","MAX_TILE_SPACING","overflow","fontSize","display","justifyContent","alignItems","transition","touchAction","overflowWrap","lineHeight","GameTile","rest","atMaxSize","useMediaQuery","theme","breakpoints","up","noSsr","size","spacing","unit","imageUrl","text","classes","Fade","timeout","Box","className","top","left","bgcolor","src","alt","onDragStart","e","preventDefault","GameBoard","fn","onWin","onLose","won","useState","fill","setTiles","nextId","setNextId","canMove","setCanMove","spawnTile","useCallback","pos","newTiles","slice","console","error","handleMove","direction","moveResults","move","setTimeout","neighbor","hasPossibleMoves","handleKeyDown","key","swipeHandlers","useSwipeable","onSwipedLeft","onSwipedRight","onSwipedUp","onSwipedDown","preventDefaultTouchmoveEvent","image","Image","prefetchImages","useEffect","document","addEventListener","removeEventListener","useTheme","Paper","elevation","sx","alignSelf","BOARD_SIZE","palette","mode","boxShadow","TransitionGroup","component","map","filter","x","sort","a","b","ConfirmationDialog","open","title","message","onConfirm","onCancel","Dialog","onClose","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","DialogActions","Button","onClick","Game","game","setGame","setWon","lose","setLose","showDialog","setShowDialog","newGame","handleDialogClose","confirmed","textColor","Stack","my","Logo","Collapse","in","transitionDelay","role","color","Typography","variant","fontWeight","ml","Grid","container","item","xs","sm","flexShrink","pr","pb","endIcon","mt","m","ImageDialog","isOpen","setOpen","scroll","SettingsDrawer","setImageDialogOpen","darkMode","setDarkMode","Drawer","anchor","List","subheader","ListSubheader","backgroundColor","mx","ListItem","divider","ListItemIcon","ListItemText","primary","Switch","edge","checked","onChange","inputProps","ListItemButton","TopBar","setMenuOpen","AppBar","Toolbar","IconButton","aria-label","href","themeBuilder","main","lightGreen","tonalOffset","light","dark","values","md","lg","xl","darkTheme","createTheme","lightTheme","App","menuOpen","dialogOpen","setDialogOpen","ThemeProvider","CssBaseline","Container","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a7abf5e4.chunk.js","sourcesContent":["export const PUZZLE_SIZE = 4;\r\nexport const BASE_VALUE = 2;\r\n\r\n// Maximum board size:\r\n// These are fixed values, measured in pixels.\r\nexport const MAX_TILE_SIZE = 110;\r\nexport const MAX_TILE_SPACING = 10;\r\nexport const MAX_BOARD_SIZE = PUZZLE_SIZE * MAX_TILE_SIZE + (PUZZLE_SIZE + 1) * MAX_TILE_SPACING;\r\n\r\n// Proportional board size:\r\n// These are percentage values of the screen width, measured in viewport units (vw).\r\n// They apply on narrow screens, when boardSize * screen width <= maxBoardSize.\r\nconst margins = 3.5;\r\nconst p = MAX_TILE_SPACING / MAX_TILE_SIZE;\r\n\r\nexport const BOARD_SIZE = 100 - (2 * margins);\r\nexport const TILE_SIZE = BOARD_SIZE / (PUZZLE_SIZE + p * (PUZZLE_SIZE + 1));\r\nexport const TILE_SPACING = TILE_SIZE * p;\r\n\r\n// TILE_SIZE --\r\n//   PUZZLE_SIZE * TILE_SIZE + (PUZZLE_SIZE + 1) * TILE_SPACING = BOARD_SIZE\r\n//   TILE_SPACING = TILE_SIZE * p\r\n// Therefore:\r\n//   PUZZLE_SIZE * TILE_SIZE + (PUZZLE_SIZE + 1) * p * TILE_SIZE = BOARD_SIZE\r\n//   TILE_SIZE * (PUZZLE_SIZE + p * (PUZZLE_SIZE + 1)) = BOARD_SIZE\r\n//   TILE_SIZE = BOARD_SIZE / (PUZZLE_SIZE + p * (PUZZLE_SIZE + 1))\r\n\r\nexport const BOARD_BREAKPOINT = MAX_BOARD_SIZE / (BOARD_SIZE / 100);","export class Tile {\r\n    id: number;\r\n    value: number;\r\n\r\n    constructor(id: number, value: number) {\r\n        this.id = id;\r\n        this.value = value;\r\n    }\r\n}","export const Directions = {\r\n    Left: 'ArrowLeft',\r\n    Right: 'ArrowRight',\r\n    Up: 'ArrowUp',\r\n    Down: 'ArrowDown,'\r\n} as const;\r\nexport type Direction = typeof Directions[keyof typeof Directions];","import tile2 from './tile2.png';\r\nimport tile4 from './tile4.png';\r\nimport tile8 from './tile8.png';\r\nimport tile16 from './tile16.png';\r\nimport tile32 from './tile32.png';\r\nimport tile64 from './tile64.png';\r\nimport tile128 from './tile128.png';\r\nimport tile256 from './tile256.png';\r\nimport tile512 from './tile512.png';\r\nimport tile1024 from './tile1024.png';\r\nimport tile2048 from './tile2048.png';\r\n\r\nconst images = {\r\n    tile2,\r\n    tile4,\r\n    tile8,\r\n    tile16,\r\n    tile32,\r\n    tile64,\r\n    tile128,\r\n    tile256,\r\n    tile512,\r\n    tile1024,\r\n    tile2048,\r\n};\r\n\r\nexport default images;","export default __webpack_public_path__ + \"static/media/tile2.7c00f168.png\";","export default __webpack_public_path__ + \"static/media/tile4.433dbdbb.png\";","export default __webpack_public_path__ + \"static/media/tile8.51e6ee33.png\";","export default __webpack_public_path__ + \"static/media/tile16.b16a6421.png\";","export default __webpack_public_path__ + \"static/media/tile32.92934005.png\";","export default __webpack_public_path__ + \"static/media/tile64.1a2f41ea.png\";","export default __webpack_public_path__ + \"static/media/tile128.7b283e7a.png\";","export default __webpack_public_path__ + \"static/media/tile256.a90db0cf.png\";","export default __webpack_public_path__ + \"static/media/tile512.2664c8f0.png\";","export default __webpack_public_path__ + \"static/media/tile1024.afeba609.png\";","export default __webpack_public_path__ + \"static/media/tile2048.e7247b69.png\";","// Static game methods\r\n\r\nimport { Direction, Directions } from \"../types/direction\";\r\nimport { Tile } from \"../types/tile\";\r\nimport { count, randomInt } from \"../util\";\r\nimport { BASE_VALUE, PUZZLE_SIZE } from \"./constants\";\r\n\r\nexport const arrowKeys = {\r\n    'ArrowLeft': Directions.Left,\r\n    'ArrowRight': Directions.Right,\r\n    'ArrowUp': Directions.Up,\r\n    'ArrowDown': Directions.Down,\r\n}\r\n\r\nexport const indexFromCoords = (col: number, row: number) => {\r\n    return col + (row * PUZZLE_SIZE);\r\n}\r\n\r\nexport const rowFromIndex = (index: number) => {\r\n    return Math.floor(index / PUZZLE_SIZE);\r\n}\r\n\r\nexport const colFromIndex = (index: number) => {\r\n    return index % PUZZLE_SIZE;\r\n}\r\n\r\n// Gets the next value for a tile with the given value.\r\n// When called with no arguments, returns a value for a new tile.\r\nexport const getNextValue = (value?: any) => {\r\n    if (value === undefined) {\r\n        return Math.random() < .95 ? BASE_VALUE : BASE_VALUE ** 2;\r\n    }\r\n    return value * BASE_VALUE;\r\n}\r\n\r\n// // Spawns random tiles (for testing)\r\n// export const getNextValue = (value?: any) => {\r\n//     const x = Math.random();\r\n//     if (x < .50) return 2;\r\n//     if (x < .70) return 4;\r\n//     if (x < .80) return 8;\r\n//     if (x < .88) return 16;\r\n//     if (x < .92) return 32;\r\n//     if (x < .94) return 64;\r\n//     if (x < .96) return 128;\r\n//     if (x < .97) return 256;\r\n//     if (x < .98) return 512;\r\n//     if (x < .99) return 1024;\r\n//     return 2048;\r\n// }\r\n\r\n// Returns the index of a random empty position on the board, or -1 if the board is full.\r\nexport const getOpenPosition = (tiles: (Tile | null)[]): number => {\r\n    const tileCount = count(tiles);\r\n\r\n    const openSpacesCount = PUZZLE_SIZE ** 2 - tileCount;\r\n    if (openSpacesCount <= 0) {\r\n        return -1;\r\n    }\r\n\r\n    const selectedSpace = randomInt(openSpacesCount);\r\n\r\n    let index = -1;\r\n    for (let i = 0; i <= selectedSpace; i++) {\r\n        index = tiles.indexOf(null, index + 1);\r\n    }\r\n    return index;\r\n}\r\n\r\n// Moves all tiles on the board.\r\n// Returns the new board state and some information about what happened during the move:\r\n//      tiles: The new board state.\r\n//      moved: True if any tiles changed position, false if no tiles moved.\r\n//      highestMerge: If any tiles merged during the moved, this returns the highest new tile value;\r\n//                    if there were no merges, this is -1.\r\nexport const move = (direction: Direction, tiles: (Tile | null)[]) => {\r\n    let result = tiles.slice();\r\n\r\n    // Rotate the board so that we can always move left\r\n    if (direction === Directions.Up) {\r\n        result = rotateLeft(result, 1);\r\n    } else if (direction === Directions.Right) {\r\n        result = rotateLeft(result, 2);\r\n    } else if (direction === Directions.Down) {\r\n        result = rotateLeft(result, 3);\r\n    }\r\n\r\n    const moveResults = moveLeft(result);\r\n\r\n    if (direction === Directions.Up) {\r\n        result = rotateLeft(result, 3);\r\n    } else if (direction === Directions.Right) {\r\n        result = rotateLeft(result, 2);\r\n    } else if (direction === Directions.Down) {\r\n        result = rotateLeft(result, 1);\r\n    }\r\n\r\n    return { ...moveResults, tiles: result };\r\n}\r\n\r\n// Treats \"tiles\" as a (square) nested array of size PUZZLE_SIZE\r\n// and returns a new array with the contents rotated 90 degrees to the left. \r\nconst rotateLeft = (tiles: any[], rotations: number = 1) => {\r\n    if (rotations < 0) {\r\n        throw Error('rotateLeft: \"rotations\" must be non-negative');\r\n    }\r\n\r\n    const result = new Array(PUZZLE_SIZE ** 2);\r\n    for (let i = 0; i < PUZZLE_SIZE ** 2; i++) {\r\n        let newCol = colFromIndex(i);\r\n        let newRow = rowFromIndex(i);\r\n\r\n        for (let r = 0; r < rotations; r++) {\r\n            const temp = newRow;\r\n\r\n            newRow = PUZZLE_SIZE - 1 - newCol;\r\n            newCol = temp;\r\n        }\r\n\r\n        result[indexFromCoords(newCol, newRow)] = tiles[i];\r\n    }\r\n    return result;\r\n}\r\n\r\n// (Mutates tiles)\r\nconst moveLeft = (tiles: (Tile | null)[]) => {\r\n    let moved = false;\r\n    let highestMerge = -1;\r\n\r\n    for (let index = 0; index < PUZZLE_SIZE ** 2; index++) {\r\n        let tile = tiles[index];\r\n        const column = colFromIndex(index);\r\n\r\n        for (let i = 1; i < PUZZLE_SIZE - column; i++) {\r\n            const nextTile = tiles[index + i];\r\n\r\n            if (nextTile && !tile) {\r\n                // Move tile into the open space\r\n                tiles[index] = nextTile;\r\n                tiles[index + i] = null;\r\n\r\n                moved = true;\r\n                // Continue checking tiles in case you need to merge\r\n                tile = nextTile;\r\n            } else if (nextTile) {\r\n                // Merge tiles if values match\r\n                if (nextTile.value === tile!.value) {\r\n                    nextTile.value = getNextValue(nextTile.value);\r\n                    tiles[index] = nextTile;\r\n                    tiles[index + i] = null;\r\n\r\n                    moved = true;\r\n                    highestMerge = Math.max(highestMerge, nextTile.value);\r\n                }\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    return { moved, highestMerge };\r\n}\r\n\r\nexport const hasPossibleMoves = (tiles: (Tile | null)[]) => {\r\n    for (let i = 0; i < PUZZLE_SIZE ** 2; i++) {\r\n        if (!tiles[i]) {\r\n            return true;\r\n        }\r\n\r\n        for (const neighbor of neighbors(i)) {\r\n            if (!tiles[neighbor] || tiles[neighbor]!.value === tiles[i]!.value) {\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n    return false;\r\n}\r\n\r\n// Returns indices of all adjacent tiles (top, left, bottom, right) within board bounds.\r\nconst neighbors = (index: number) => {\r\n    const col = colFromIndex(index);\r\n    const row = rowFromIndex(index);\r\n\r\n    const neighbors = [];\r\n    if (col > 0) neighbors.push(indexFromCoords(col - 1, row));\r\n    if (row > 0) neighbors.push(indexFromCoords(col, row - 1));\r\n    if (col < PUZZLE_SIZE - 1) neighbors.push(indexFromCoords(col + 1, row));\r\n    if (row < PUZZLE_SIZE - 1) neighbors.push(indexFromCoords(col, row + 1));\r\n\r\n    return neighbors;\r\n}\r\n","// Counts the number of truthy values in the array (for sparse arrays where length =/= count).\r\nexport function count(array: any[]) : number {\r\n    return array.reduce((total, current) => total + (!!current ? 1 : 0), 0)\r\n}\r\n\r\n// Returns an array containing int values from 0 (inclusive) to i (exclusive).\r\nexport function range(i: number) {\r\n    return Array.from(Array(i).keys());\r\n}\r\n\r\n// Returns a random integer between 0 (inclusive) and max (exclusive).\r\nexport function randomInt(max: number) {\r\n    return Math.floor(Math.random() * max);\r\n}\r\n\r\n// Restricts x to the range between min and max (inclusive).\r\nexport function clamp(x: number, min: number, max: number) {\r\n    if (min > max) {\r\n        throw Error(`clamp: min (${min}) is greater than max (${max}).`);\r\n    }\r\n    return Math.max(Math.min(x, max), min);\r\n}\r\n\r\nexport function isEmptyOrWhitespace(str: string) {\r\n    const regExp = /^\\s*$/;\r\n    return regExp.test(str);\r\n}","import React from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Theme } from '@material-ui/core/styles';\r\nimport Box from '@material-ui/core/Box';\r\nimport Fade from '@material-ui/core/Fade';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\n\r\nimport images from '../assets/images';\r\nimport { BOARD_BREAKPOINT, MAX_TILE_SIZE, MAX_TILE_SPACING, TILE_SIZE, TILE_SPACING } from './constants';\r\n\r\nconst showTileNumbers = false;\r\n\r\nconst customValues = {\r\n    2: '115',\r\n    4: '32',\r\n    8: ' ',\r\n    16: '...53891',\r\n    32: '337',\r\n    64: '202',\r\n    128: '43159026120653246532462835624672721010001',\r\n    256: '56209783',\r\n    512: '2√ √2',\r\n    1024: '1 1',\r\n    2048: '0',\r\n};\r\n\r\nconst useStyles = makeStyles(({\r\n    tile: {\r\n        position: 'absolute',\r\n        width: TILE_SIZE + 'vw',\r\n        height: TILE_SIZE + 'vw',\r\n        maxWidth: MAX_TILE_SIZE,\r\n        maxHeight: MAX_TILE_SIZE,\r\n        borderRadius: MAX_TILE_SPACING / 2 + 'px',\r\n        overflow: 'hidden',\r\n        fontSize: MAX_TILE_SIZE * .25,\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        alignItems: 'center',\r\n        transition: 'opacity .10s, top .25s, left .25s !important',\r\n        touchAction: 'none',\r\n        '& span': {\r\n            maxWidth: '100%',\r\n            overflowWrap: 'break-word',\r\n            lineHeight: 1,\r\n        },\r\n\r\n    }\r\n}));\r\n\r\ninterface Props {\r\n    value: number;\r\n    row: number;\r\n    col: number;\r\n}\r\n\r\nexport default function GameTile({ value, row, col, ...rest }: Props) {\r\n\r\n    const atMaxSize = useMediaQuery((theme: Theme) => theme.breakpoints.up(BOARD_BREAKPOINT), { noSsr: true });\r\n\r\n    const size = atMaxSize ? MAX_TILE_SIZE : TILE_SIZE;\r\n    const spacing = atMaxSize ? MAX_TILE_SPACING : TILE_SPACING;\r\n    const unit = atMaxSize ? 'px' : 'vw';\r\n\r\n    // @ts-ignore\r\n    const imageUrl = images[`tile${value}`] ?? images['tile2048'];\r\n    // @ts-ignore\r\n    const text = value in customValues ? (customValues[value]) : value;\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Fade {...rest} timeout={100} >\r\n            <Box\r\n                className={classes.tile}\r\n                top={row * size + (row + 1) * spacing + unit}\r\n                left={col * size + (col + 1) * spacing + unit}\r\n                bgcolor='background.paper'\r\n            >\r\n                {showTileNumbers ? (\r\n                    <span>{text}</span>\r\n                ) : (\r\n                    <img src={imageUrl} width='100%' alt={text} onDragStart={(e) => e.preventDefault()} />\r\n                )}\r\n            </Box>\r\n        </Fade>\r\n    )\r\n}\r\n","import React, { useCallback, useEffect, useState } from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { TransitionGroup } from 'react-transition-group';\r\nimport { useSwipeable } from 'react-swipeable';\r\n\r\nimport { BASE_VALUE, PUZZLE_SIZE, BOARD_SIZE, MAX_BOARD_SIZE, MAX_TILE_SPACING } from './constants';\r\nimport { useMountEffect } from '../hooks/useMountEffect';\r\nimport { Tile } from '../types/tile';\r\nimport { Direction, Directions } from '../types/direction';\r\nimport images from '../assets/images';\r\nimport {\r\n    arrowKeys, colFromIndex, rowFromIndex, getNextValue,\r\n    getOpenPosition, hasPossibleMoves, move\r\n} from './GameLogic';\r\nimport GameTile from './GameTile';\r\nimport { useTheme } from '@material-ui/core/styles';\r\n\r\nconst prefetchImages = () => {\r\n    for (const image in images) {\r\n        // @ts-ignore\r\n        new Image().src = images[image];\r\n    }\r\n}\r\n\r\ninterface Props {\r\n    onWin: () => void;\r\n    onLose: () => void;\r\n    won: boolean;\r\n}\r\n\r\nexport default function GameBoard({ onWin, onLose, won }: Props) {\r\n    const [tiles, setTiles] = useState<(Tile | null)[]>(new Array(PUZZLE_SIZE ** 2).fill(null));\r\n    const [nextId, setNextId] = useState(1);\r\n    const [canMove, setCanMove] = useState(false);\r\n\r\n    const spawnTile = useCallback((tiles: (Tile | null)[]) => {\r\n        const pos = getOpenPosition(tiles);\r\n\r\n        const newTiles = tiles.slice();\r\n        if (pos >= 0) {\r\n            newTiles[pos] = new Tile(nextId, getNextValue());\r\n            setNextId(nextId + 1);\r\n        }\r\n        else {\r\n            console.error('spawnTiles: Tried to add tile to full board');\r\n        }\r\n        return newTiles;\r\n    }, [nextId]);\r\n\r\n    const handleMove = useCallback((direction: Direction) => {\r\n        if (!canMove) {\r\n            return;\r\n        }\r\n\r\n        setCanMove(false);\r\n        const result = move(direction, tiles.slice());\r\n        setTiles(result.tiles);\r\n\r\n        if (result.highestMerge === BASE_VALUE ** 11) {\r\n            onWin();\r\n        }\r\n\r\n        if (result.moved) {\r\n            setTimeout(() => {\r\n                const newTiles = spawnTile(result.tiles);\r\n                setTiles(newTiles);\r\n                setCanMove(true);\r\n\r\n                if (!hasPossibleMoves(newTiles)) {\r\n                    onLose();\r\n                }\r\n            }, 150);\r\n        } else {\r\n            setCanMove(true);\r\n        }\r\n    }, [canMove, onLose, onWin, spawnTile, tiles]);\r\n\r\n    const handleKeyDown = useCallback((e: KeyboardEvent) => {\r\n        if (e.key in arrowKeys) {\r\n            e.preventDefault();\r\n            handleMove(arrowKeys[e.key as keyof typeof arrowKeys]);\r\n        }\r\n    }, [handleMove]);\r\n\r\n    const swipeHandlers = useSwipeable({\r\n        onSwipedLeft: () => handleMove(Directions.Left),\r\n        onSwipedRight: () => handleMove(Directions.Right),\r\n        onSwipedUp: () => handleMove(Directions.Up),\r\n        onSwipedDown: () => handleMove(Directions.Down),\r\n        preventDefaultTouchmoveEvent: true,\r\n    });\r\n\r\n    useMountEffect(() => {\r\n        prefetchImages();\r\n        setTiles(spawnTile(new Array(PUZZLE_SIZE ** 2).fill(null)));\r\n        setCanMove(true);\r\n    });\r\n\r\n    useEffect(() => {\r\n        document.addEventListener('keydown', handleKeyDown);\r\n        return () => document.removeEventListener('keydown', handleKeyDown);\r\n    }, [handleKeyDown]);\r\n\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <Paper\r\n            elevation={2}\r\n            sx={{\r\n                alignSelf: 'center',\r\n                width: BOARD_SIZE + 'vw',\r\n                height: BOARD_SIZE + 'vw',\r\n                maxWidth: MAX_BOARD_SIZE,\r\n                maxHeight: MAX_BOARD_SIZE,\r\n                bgcolor: theme.palette.mode === 'dark' ? 'grey.900' : 'primary.light',\r\n                position: 'relative',\r\n                borderRadius: MAX_TILE_SPACING + 'px',\r\n                touchAction: 'none',\r\n                ...(won && { boxShadow: '0 0 10px 4px #c5e1a5' })\r\n            }}\r\n            {...swipeHandlers}\r\n        >\r\n            <TransitionGroup component={null}>\r\n                {\r\n                    // Sort tiles by ID when rendering to keep them in a consistent order (to avoid messing up CSS transitions),\r\n                    // but also keep track of the original index from 'tiles' which is needed to set the row/column position\r\n                    tiles.map((tile, index) => ({ tile, index }))\r\n                        .filter(x => !!x.tile)\r\n                        .sort((a, b) => a.tile!.id - b.tile!.id)\r\n                        .map(({ tile, index }) => tile ? (\r\n                            <GameTile\r\n                                key={tile.id}\r\n                                row={rowFromIndex(index)}\r\n                                col={colFromIndex(index)}\r\n                                value={tile.value}\r\n                            />\r\n                        ) : null)}\r\n            </TransitionGroup>\r\n        </Paper>\r\n    )\r\n}","// https://stackoverflow.com/a/56767883\r\n// Hook for effects that should only run once, when the component is mounted.\r\n\r\nimport { useEffect } from \"react\"\r\n\r\n// eslint-disable-next-line react-hooks/exhaustive-deps\r\nexport const useMountEffect = (fn: any) => useEffect(fn, [])","export default __webpack_public_path__ + \"static/media/logo.e9218d07.png\";","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\n\r\ninterface BaseProps {\r\n    open: boolean;\r\n    onConfirm: () => void;\r\n    onCancel: () => void;\r\n}\r\n\r\ninterface TitleDialogProps extends BaseProps {\r\n    title: string;\r\n    message?: string;\r\n}\r\n\r\ninterface MessageDialogProps extends BaseProps {\r\n    message: string;\r\n    title?: string;\r\n}\r\n\r\ntype Props = TitleDialogProps | MessageDialogProps;\r\n\r\nexport default function ConfirmationDialog({ open, title, message, onConfirm, onCancel }: Props) {\r\n    return (\r\n        <Dialog\r\n            open={open}\r\n            onClose={onCancel}\r\n            aria-labelledby={title ? 'confirm-dialog-title' : 'confirm-dialog-message'}\r\n            aria-describedby={title && message ? 'confirm-dialog-message' : undefined}\r\n        >\r\n            {title &&\r\n                <DialogTitle id='confirm-dialog-title'>{title}</DialogTitle>}\r\n            {message &&\r\n                <DialogContent>\r\n                    <DialogContentText id='confirm-dialog-message'>\r\n                        {message}\r\n                    </DialogContentText>\r\n                </DialogContent>}\r\n            <DialogActions>\r\n                <Button onClick={onCancel}>\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={onConfirm}>\r\n                    OK\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import React, { useState } from 'react';\r\n\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Stack from '@material-ui/core/Stack';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Collapse from '@material-ui/core/Collapse';\r\n\r\nimport ReplayIcon from '@material-ui/icons/Replay';\r\nimport CelebrationIcon from '@material-ui/icons/Celebration';\r\n\r\nimport { BOARD_SIZE, MAX_BOARD_SIZE } from './constants';\r\nimport GameBoard from './GameBoard';\r\nimport Logo from '../assets/logo.png'\r\nimport ConfirmationDialog from '../common/ConfirmationDialog';\r\n\r\nexport default function Game() {\r\n    const [game, setGame] = useState(1);\r\n    const [won, setWon] = useState(false);\r\n    const [lose, setLose] = useState(false);\r\n    const [showDialog, setShowDialog] = useState(false);\r\n\r\n    const newGame = () => {\r\n        setGame(game + 1);\r\n        setWon(false);\r\n        setLose(false);\r\n    }\r\n\r\n    const handleRestart = () => {\r\n        if (lose) {\r\n            newGame();\r\n        } else {\r\n            setShowDialog(true);\r\n        }\r\n    }\r\n\r\n    const handleDialogClose = (confirmed: boolean) => {\r\n        setShowDialog(false);\r\n        if (confirmed) {\r\n            newGame();\r\n        }\r\n    }\r\n\r\n    const theme = useTheme();\r\n    const textColor = theme.palette.mode === 'dark' ? 'primary.light' : 'text.primary';\r\n\r\n    return (\r\n        <>\r\n            <ConfirmationDialog\r\n                open={showDialog}\r\n                message='Are you sure you want to restart?'\r\n                onCancel={() => handleDialogClose(false)}\r\n                onConfirm={() => handleDialogClose(true)}\r\n            />\r\n\r\n            <Stack spacing={2} width={BOARD_SIZE + 'vw'} maxWidth={MAX_BOARD_SIZE} sx={{ my: 3 }} >\r\n                <img src={Logo} alt=\"(Logo) 11532337202\" width='100%' />\r\n                <Collapse in={won} timeout={1000} sx={{ alignSelf: 'center', transitionDelay: '500' }}>\r\n                    <Stack\r\n                        role='status'\r\n                        direction='row'\r\n                        alignItems='center'\r\n                        spacing={.5}\r\n                        sx={{ color: textColor }}\r\n                    >\r\n                        <Typography variant='h6' component='div'>\r\n                            You won! congrat\r\n                        </Typography>\r\n                        <CelebrationIcon />\r\n                    </Stack>\r\n                </Collapse>\r\n\r\n                <GameBoard key={game} onWin={() => setWon(true)} onLose={() => setLose(true)} won={won} />\r\n\r\n                <Collapse in={lose} timeout={1000} sx={{ transitionDelay: '500' }}>\r\n                    <Typography role='status' fontWeight='bold' component='div' color={textColor} sx={{ ml: .25 }}>\r\n                        No more moves :(\r\n                    </Typography>\r\n                </Collapse>\r\n\r\n                <Grid container direction='row' justifyContent='space-between'>\r\n                    <Grid\r\n                        item\r\n                        xs={12} sm='auto'\r\n                        flexShrink={0}\r\n                        pr={2} pb={2}\r\n                        display='flex'\r\n                        justifyContent='center'\r\n                        alignItems='start'\r\n                    >\r\n                        <Button\r\n                            onClick={handleRestart}\r\n                            variant='contained'\r\n                            endIcon={<ReplayIcon />}\r\n                            sx={{ mt: '.3rem', }}\r\n                        >\r\n                            New game\r\n                        </Button>\r\n                    </Grid>\r\n                    <Grid item xs={12} sm sx={{ '& p': { m: 0 } }}>\r\n                        <p>Use the arrow keys or swipe on the board to move the tiles. Merge matching tiles together to reach the 2048(?) tile!</p>\r\n                    </Grid>\r\n                </Grid>\r\n            </Stack>\r\n        </>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\ninterface Props {\r\n    isOpen: boolean;\r\n    setOpen: (isOpen: boolean) => void;\r\n}\r\n\r\nexport default function ImageDialog({ isOpen, setOpen }: Props) {\r\n    return (\r\n        <Dialog\r\n            open={isOpen}\r\n            onClose={() => setOpen(false)}\r\n            scroll='paper'\r\n            aria-labelledby='image-dialog-title'\r\n        >\r\n            <DialogTitle id='image-dialog-title'>Choose custom images</DialogTitle>\r\n            <DialogContent>\r\n                Image selection goes here\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={() => setOpen(false)}>Cancel</Button>\r\n                <Button onClick={() => setOpen(false)}>Apply</Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemButton from '@material-ui/core/ListItemButton';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport Switch from '@material-ui/core/Switch';\r\n\r\nimport BrightnessMediumIcon from '@material-ui/icons/BrightnessMedium';\r\nimport ImageIcon from '@material-ui/icons/Image';\r\n\r\ninterface Props {\r\n    isOpen: boolean;\r\n    setOpen: (isOpen: boolean) => void;\r\n    setImageDialogOpen: (isOpen: boolean) => void;\r\n    darkMode: boolean;\r\n    setDarkMode: (on: boolean) => void;\r\n}\r\n\r\nexport default function SettingsDrawer({ isOpen, setOpen, setImageDialogOpen, darkMode, setDarkMode }: Props) {\r\n    return (\r\n        <Drawer\r\n            anchor='left'\r\n            open={isOpen}\r\n            onClose={() => setOpen(false)}\r\n        >\r\n            <List\r\n                subheader={(<ListSubheader sx={{ backgroundColor: 'transparent' }}>Settings</ListSubheader>)}\r\n                sx={{ mx: '.5rem' }}\r\n            >\r\n                <ListItem divider={true} >\r\n                    <ListItemIcon>\r\n                        <BrightnessMediumIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText id='switch-setting' primary='Light mode' />\r\n                    <Switch\r\n                        edge='end'\r\n                        checked={!darkMode}\r\n                        onChange={() => setDarkMode(!darkMode)}\r\n                        inputProps={{ 'aria-labelledby': 'switch-setting' }}\r\n                    />\r\n                </ListItem>\r\n\r\n                <ListItemButton\r\n                    sx={{ pr: '1.5rem' }}\r\n                    onClick={() => {\r\n                        setOpen(false);\r\n                        setImageDialogOpen(true);\r\n                    }}\r\n                >\r\n                    <ListItemIcon>\r\n                        <ImageIcon />\r\n                    </ListItemIcon>\r\n                    <ListItemText>\r\n                        Use custom images...\r\n                    </ListItemText>\r\n                </ListItemButton>\r\n            </List>\r\n        </Drawer>\r\n    )\r\n}","import React from 'react';\r\n\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport GitHubIcon from '@material-ui/icons/GitHub';\r\n\r\ninterface Props {\r\n    setMenuOpen: (open: boolean) => void;\r\n}\r\n\r\nexport default function TopBar({ setMenuOpen }: Props) {\r\n    const theme = useTheme();\r\n\r\n    return (\r\n        <AppBar position='static'>\r\n            <Toolbar sx={{\r\n                color: theme.palette.mode === 'dark' ? 'primary.main' : '#fff',\r\n                justifyContent: 'space-between'\r\n            }}>\r\n                <IconButton\r\n                    onClick={() => setMenuOpen(true)}\r\n                    size='large'\r\n                    edge='start'\r\n                    color='inherit'\r\n                    aria-label='Menu'\r\n                >\r\n                    <MenuIcon />\r\n                </IconButton>\r\n                <IconButton\r\n                    href='https://github.com/turtleseason/img-2048'\r\n                    size='large'\r\n                    edge='end'\r\n                    color='inherit'\r\n                    aria-label='Github repository'\r\n                >\r\n                    <GitHubIcon />\r\n                </IconButton>\r\n            </Toolbar>\r\n        </AppBar>\r\n    )\r\n}","import React, { useState } from 'react';\n\nimport { createTheme, CssBaseline, ThemeProvider } from '@material-ui/core';\nimport { lightGreen } from '@material-ui/core/colors';\nimport Container from '@material-ui/core/Container';\n\nimport Game from './game/GameContainer';\nimport ImageDialog from './components/ImageDialog';\nimport SettingsDrawer from './components/SettingsDrawer';\nimport TopBar from './components/TopBar';\n\nconst themeBuilder = (mode: 'light' | 'dark') => ({\n    palette: {\n        mode,\n        primary: {\n            main: lightGreen[200],\n        },\n        tonalOffset:\n        {\n            light: .4,\n            dark: .2,\n        },\n    },\n    breakpoints: {\n        values: {\n            xs: 0,\n            sm: 340,\n            md: 600,\n            lg: 900,\n            xl: 1200,\n        },\n    },\n});\n\nconst darkTheme = createTheme(themeBuilder('dark'));\nconst lightTheme = createTheme(themeBuilder('light'));\n\nexport default function App() {\n    const [menuOpen, setMenuOpen] = useState(false);\n    const [dialogOpen, setDialogOpen] = useState(false);\n    const [darkMode, setDarkMode] = useState(true);\n\n    return (\n        <ThemeProvider theme={darkMode ? darkTheme : lightTheme}>\n            <>\n                <CssBaseline />\n\n                <TopBar setMenuOpen={setMenuOpen} />\n\n                <SettingsDrawer\n                    isOpen={menuOpen}\n                    setOpen={setMenuOpen}\n                    setImageDialogOpen={setDialogOpen}\n                    darkMode={darkMode}\n                    setDarkMode={setDarkMode}\n                />\n\n                <ImageDialog isOpen={dialogOpen} setOpen={setDialogOpen} />\n\n                <Container sx={{ display: 'flex', justifyContent: 'center' }}>\n                    <Game />\n                </Container>\n            </>\n        </ThemeProvider>\n    );\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport '@fontsource/roboto/300.css';\nimport '@fontsource/roboto/400.css';\nimport '@fontsource/roboto/500.css';\nimport '@fontsource/roboto/700.css';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode >,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}